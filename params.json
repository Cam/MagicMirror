{"name":"Magicmirror.sketchplugin","tagline":"Perspective Transformation for Sketch Artboards","body":"# Magic Mirror for Sketch 3\r\n\r\n![](http://cl.ly/image/1J0d3W1D0q3x/magic-mirror-banner.gif)\r\n\r\nMagic Mirror for Sketch 3 is a Sketch Plugin can create perspective transformed image from an artboard and apply to corresponding shape.\r\n\r\n![](http://cl.ly/image/243S012T201L/magic-mirror-intro.gif)\r\n\r\nYou might also refer it as a simple version of [Photoshop’s Embeded Smart Objects](https://helpx.adobe.com/photoshop/using/create-smart-objects.html) for Sketch.\r\n\r\nUnlike [Symbols](http://bohemiancoding.com/sketch/support/documentation/07-symbols/), Magic Mirror uses Pattern Fill to create the mirroring. It can mirror any number of Artboards to any number of shape layers in any size, any angle, but ALSO responds to the shape’s distortion (perspective transformation).\r\n\r\nUnlike editing Bitmaps in Sketch, Magic Mirror does not modify the original bitmap in a distructive manner (since we’re sourcing from an Artboard). Using Shape layers instead of Bitmap layers, edited paths are also preserved and can be easily updated.\r\n\r\n[![](http://cl.ly/image/0B1O3J021S44/magic-mirror-download.png)](https://github.com/jamztang/MagicMirror.sketchplugin/archive/master.zip)\r\n\r\n\r\n## Installation\r\n\r\n1. Download the package, unzip it and locate `Magic Mirror.sketchplugin`.\r\n2. Double click to install the plugin, if you’ve multiple versions of Sketch, you can drag the plugin into the specific Sketch dock icon.\r\n3. Check that it’s available in the `Plugins` menu.\r\n\r\n![](http://cl.ly/image/2z0l023u0O2f/magic-mirror-menu.png)\r\n\r\n## Usage\r\n\r\nMagic Mirror currently offer three handy methods.\r\n\r\n### 1. Magic Mirror! (⌃ ⇧ M)\r\n\r\nApply perpective transform to all layers that can be associated with an artboard with the same name.\r\n\r\n![](http://cl.ly/image/3K0X2m2e0X04/magic-mirror-feature1.gif)\r\n\r\n1. Prepare an artboard as the source\r\n2. Use the `Rectangle (R)`  or `Vector (V)` tool to draw a 4 point polygon. It’s important NOT to use the `Round Rect` tool because in order for Magic Mirror to work is to have **exactly 4 control points**.\r\n3. Rename your shape layer to **exactly match the Artboard’s name** you want to mirror.\r\n4. Press `⌃ ⇧ M` or go to `Plugin > Magic Mirror > Magic Mirror!` to see the results!\r\n\r\n### 2. Jump to Artboard (⌃ ⇧ J)\r\n\r\nQuickly jump to the layer’s associated artboard.\r\n\r\n![](http://cl.ly/image/2f3o0s1T3L2W/magic-mirror-feature2.gif)\r\n\r\n1. Select the magic shape layer you’re currently working on.\r\n2. Press `⌃ ⇧ J` or use `Plugin > Magic Mirror > Jump to Artboard`.\r\n\r\n### 3. Rotate Points (⌃ ⌘ ⇧ R)\r\n\r\n![](http://cl.ly/image/1w3y3O0P0F0t/magic-mirror-feature3.gif)\r\n\r\nRotate the content orientation of the layer fill.\r\n\r\n1. Select the layer\r\n2. Press `⌃ ⌘ ⇧ R` or use `Plugin > Magic Mirror > Rotate Points`.\r\n\r\n## So how does it work? (In short)\r\n\r\nMagic Mirror operation iterates through all the “Shape” layers (MSShapeGroup) in current page and find out the Artboard-Layer pair that shares the exact same name.\r\n\r\nLook into the path (NSBezierPath) and extract the 4 corner points.\r\n\r\nHand it over to ([Core Image](https://developer.apple.com/library/mac/documentation/GraphicsImaging/Conceptual/CoreImaging/ci_intro/ci_intro.html)) to do `Perspective Transformation`, and apply the transformed image using Pattern Fill.\r\n\r\n## Support this project\r\n\r\nIf you find it useful, you can always refer or contribute to this project.\r\n\r\n![](http://cl.ly/image/111y2W1J1l3U/artboard-light-color.png)\r\n\r\n**[Send me a coffee ($5 USD)](https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=RUERV9YM2RT6U)**\r\nYou’ll get a copy of my perspective layout create entirely in Sketch ;)\r\n\r\n\r\n## Credits\r\n\r\nSpecial thanks to [Simon Pang](http://twitter.com/@simonpang) to help point me back to the right direction when I was lost in reverse engineering Sketch header files without an obvious answer and attempted to manually apply the 3D transformation matrix to the image.\r\n\r\nWithout him this would likely took me few more nights, or might at worst not possible due to some [complications of expressing certain language syntax in the scripting bridge](https://github.com/ccgus/CocoaScript/issues/30).\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}